## Requirements

| Name                                                                      | Version  |
|---------------------------------------------------------------------------|----------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.2.2 |

## Providers

| Name                                                                   | Version |
|------------------------------------------------------------------------|---------|
| <a name="provider_aws.global"></a> [aws.global](#provider\_aws.global) | 4.24.0  |
| <a name="provider_aws.region"></a> [aws.region](#provider\_aws.region) | 4.24.0  |

## Modules

| Name                                                                                              | Source                     | Version |
|---------------------------------------------------------------------------------------------------|----------------------------|---------|
| <a name="module_app"></a> [app](#module\_app)                                                     | ./modules/app              | n/a     |
| <a name="module_app_ecs_autoscaling"></a> [app\_ecs\_autoscaling](#module\_app\_ecs\_autoscaling) | ./modules/ecs_autoscaling  | n/a     |
| <a name="module_application_logs"></a> [application\_logs](#module\_application\_logs)            | ./modules/application_logs | n/a     |

## Resources

| Name                                                                                                                                                                           | Type        |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------|
| [aws_ecs_cluster.main](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/ecs_cluster)                                                                | resource    |
| [aws_iam_role_policy.rum_monitor_unauthenticated](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/iam_role_policy)                                 | resource    |
| [aws_rum_app_monitor.main](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/rum_app_monitor)                                                        | resource    |
| [aws_secretsmanager_secret_version.rum_monitor_application_id](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/secretsmanager_secret_version)      | resource    |
| [aws_availability_zones.available](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/availability_zones)                                          | data source |
| [aws_caller_identity.current](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/caller_identity)                                                  | data source |
| [aws_caller_identity.global](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/caller_identity)                                                   | data source |
| [aws_default_tags.current](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/default_tags)                                                        | data source |
| [aws_iam_policy_document.rum_monitor_unauthenticated](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/iam_policy_document)                      | data source |
| [aws_iam_role.ecs_autoscaling_service_role](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/iam_role)                                           | data source |
| [aws_iam_role.rum_monitor_unauthenticated](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/iam_role)                                            | data source |
| [aws_region.current](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/region)                                                                    | data source |
| [aws_region.global](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/region)                                                                     | data source |
| [aws_secretsmanager_secret_version.rum_monitor_identity_pool_id](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/secretsmanager_secret_version) | data source |
| [aws_subnet.application](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/subnet)                                                                | data source |
| [aws_subnet.public](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/subnet)                                                                     | data source |
| [aws_vpc.main](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/data-sources/vpc)                                                                             | data source |

## Inputs

| Name                                                                                                                                                                                                            | Description                                                                                                                                                                                                                                                                      | Type                                         | Default | Required |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------|---------|:--------:|
| <a name="input_alb_deletion_protection_enabled"></a> [alb\_deletion\_protection\_enabled](#input\_alb\_deletion\_protection\_enabled)                                                                           | If true, deletion of the load balancer will be disabled via the AWS API. This will prevent Terraform from deleting the load balancer. Defaults to false.                                                                                                                         | `bool`                                       | n/a     |   yes    |
| <a name="input_app_env_vars"></a> [app\_env\_vars](#input\_app\_env\_vars)                                                                                                                                      | Environment variable values for app                                                                                                                                                                                                                                              | `any`                                        | n/a     |   yes    |
| <a name="input_app_service_container_version"></a> [app\_service\_container\_version](#input\_app\_service\_container\_version)                                                                                 | (optional) describe your variable                                                                                                                                                                                                                                                | `string`                                     | n/a     |   yes    |
| <a name="input_app_service_repository_url"></a> [app\_service\_repository\_url](#input\_app\_service\_repository\_url)                                                                                          | (optional) describe your variable                                                                                                                                                                                                                                                | `string`                                     | n/a     |   yes    |
| <a name="input_application_log_retention_days"></a> [application\_log\_retention\_days](#input\_application\_log\_retention\_days)                                                                              | Specifies the number of days you want to retain log events in the specified log group. Possible values are: 1, 3, 5, 7, 14, 30, 60, 90, 120, 150, 180, 365, 400, 545, 731, 1827, 3653, and 0. If you select 0, the events in the log group are always retained and never expire. | `number`                                     | n/a     |   yes    |
| <a name="input_ecs_capacity_provider"></a> [ecs\_capacity\_provider](#input\_ecs\_capacity\_provider)                                                                                                           | Name of the capacity provider to use. Valid values are FARGATE\_SPOT and FARGATE                                                                                                                                                                                                 | `string`                                     | n/a     |   yes    |
| <a name="input_ecs_execution_role"></a> [ecs\_execution\_role](#input\_ecs\_execution\_role)                                                                                                                    | The task execution role that the Amazon ECS container agent and the Docker daemon can assume.                                                                                                                                                                                    | `any`                                        | n/a     |   yes    |
| <a name="input_ecs_task_autoscaling"></a> [ecs\_task\_autoscaling](#input\_ecs\_task\_autoscaling)                                                                                                              | task minimum and maximum values for autoscaling                                                                                                                                                                                                                                  | `any`                                        | n/a     |   yes    |
| <a name="input_ecs_task_roles"></a> [ecs\_task\_roles](#input\_ecs\_task\_roles)                                                                                                                                | ARN of IAM role that allows your Amazon ECS container task to make calls to other AWS services.                                                                                                                                                                                  | <pre>object({<br>    app = any<br>  })</pre> | n/a     |   yes    |
| <a name="input_ingress_allow_list_cidr"></a> [ingress\_allow\_list\_cidr](#input\_ingress\_allow\_list\_cidr)                                                                                                   | List of CIDR ranges permitted to access the service                                                                                                                                                                                                                              | `list(string)`                               | n/a     |   yes    |
| <a name="input_lpas_table"></a> [lpas\_table](#input\_lpas\_table)                                                                                                                                              | DynamoDB table for storing LPAs                                                                                                                                                                                                                                                  | `any`                                        | n/a     |   yes    |
| <a name="input_public_access_enabled"></a> [public\_access\_enabled](#input\_public\_access\_enabled)                                                                                                           | Enable access to the Modernising LPA service from the public internet                                                                                                                                                                                                            | `bool`                                       | n/a     |   yes    |
| <a name="input_rum_monitor_application_id_secretsmanager_secret_id"></a> [rum\_monitor\_application\_id\_secretsmanager\_secret\_id](#input\_rum\_monitor\_application\_id\_secretsmanager\_secret\_id)         | ARN of the AWS Secrets Manager secret containing the RUM monitor identity pool ID                                                                                                                                                                                                | `string`                                     | n/a     |   yes    |
| <a name="input_rum_monitor_identity_pool_id_secretsmanager_secret_id"></a> [rum\_monitor\_identity\_pool\_id\_secretsmanager\_secret\_id](#input\_rum\_monitor\_identity\_pool\_id\_secretsmanager\_secret\_id) | ARN of the AWS Secrets Manager secret containing the RUM monitor identity pool ID                                                                                                                                                                                                | `string`                                     | n/a     |   yes    |

## Outputs

| Name                                                                                                                                         | Description |
|----------------------------------------------------------------------------------------------------------------------------------------------|-------------|
| <a name="output_app_load_balancer"></a> [app\_load\_balancer](#output\_app\_load\_balancer)                                                  | n/a         |
| <a name="output_app_load_balancer_security_group"></a> [app\_load\_balancer\_security\_group](#output\_app\_load\_balancer\_security\_group) | n/a         |
